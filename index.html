<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>The RCST VIP Video Analysis</title>
<!-- 网站图标 -->
<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

<!-- Plyr 样式 -->
<link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />

<style>
  /* 设计变量 */
  :root{
    --bg:#0f172a;
    --card:#1e293b;
    --accent:#6366f1;
    --primary-light:#818cf8;
    --secondary:#10b981;
    --muted:#94a3b8;
    --glass:rgba(255,255,255,0.04);
    --text-main:#f1f5f9;
    --text-muted:#94a3b8;
    --error:#f43f5e;
    --radius:12px;
    --shadow:0 8px 32px rgba(2,6,23,.45);
  }
  [data-theme="light"]{
    --bg:#f8fafc;
    --card:#ffffff;
    --text-main:#0f172a;
    --text-muted:#475569;
    --glass:rgba(0,0,0,0.02);
    --shadow:0 8px 32px rgba(2,6,23,.08);
  }

  /* 全局样式 */
  *{box-sizing:border-box;}
  body{
    margin:0;
    font-family:"Segoe UI",Roboto,"PingFang SC","Hiragino Sans GB","Microsoft Yahei",Arial;
    background:var(--bg);
    color:var(--text-main);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
  }
  .wrap{
    width:min(1100px,98%);
    background:var(--card);
    border-radius:var(--radius);
    padding:18px;
    box-shadow:var(--shadow);
    border:1px solid var(--glass);
  }
  .header{
    display:flex;
    gap:12px;
    align-items:center;
    margin-bottom:12px;
  }
  .brand{
    display:flex;
    gap:10px;
    align-items:center;
    font-weight:700;
  }
  .logo{
    width:46px;
    height:46px;
    border-radius:10px;
    background:linear-gradient(135deg,var(--secondary),var(--accent));
    display:flex;
    align-items:center;
    justify-content:center;
    color:#fff;
    font-weight:800;
    font-size:18px;
    box-shadow:0 6px 18px rgba(99,102,241,.35);
    animation:breathe 4s ease-in-out infinite;
  }
  @keyframes breathe{
    50%{box-shadow:0 0 24px 2px rgba(99,102,241,.55);}
  }
  .controls{
    margin-left:auto;
    display:flex;
    gap:8px;
    align-items:center;
  }
  .input-row{
    display:flex;
    gap:8px;
    width:100%;
    margin-bottom:12px;
    flex-wrap:wrap;
  }
  input[type="text"],select{
    flex:1;
    min-width:160px;
    padding:12px 14px;
    border-radius:var(--radius);
    border:1px solid var(--glass);
    background:var(--glass);
    color:inherit;
    outline:none;
    transition:border-color .2s,box-shadow .2s;
  }
  input[type="text"]:focus,select:focus{
    border-color:var(--primary-light);
    box-shadow:0 0 0 3px rgba(99,102,241,.25);
  }
  button{
    background:linear-gradient(90deg,var(--accent),var(--secondary));
    color:#fff;
    border:0;
    padding:10px 14px;
    border-radius:var(--radius);
    cursor:pointer;
    font-weight:600;
    box-shadow:0 6px 18px rgba(99,102,241,.25);
    transition:transform .15s ease,box-shadow .15s ease;
  }
  button:active{
    transform:scale(.96);
    box-shadow:0 2px 8px rgba(99,102,241,.25);
  }
  .mode-switch{
    display:flex;
    gap:6px;
    align-items:center;
    background:var(--glass);
    padding:6px;
    border-radius:8px;
  }
  .mode-switch button{
    background:transparent;
    box-shadow:none;
    padding:8px 10px;
    color:var(--text-muted);
  }
  .mode-switch .active{
    background:rgba(255,255,255,.08);
    color:#fff;
  }
  .player-card{
    background:var(--card);
    border-radius:var(--radius);
    overflow:hidden;
    display:grid;
    grid-template-columns:1fr 320px;
    gap:12px;
    padding:12px;
  }
  @media (max-width:900px){
    .player-card{grid-template-columns:1fr;padding:8px;}
    .header{flex-wrap:wrap;}
    .controls{width:100%;}
  }
  .player-area{
    background:#000;
    border-radius:8px;
    min-height:240px;
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
    border:1px solid rgba(255,255,255,.06);
  }
  .player-area video,.player-area{
    width:100%;
    height:45vh;
    margin:0;
    padding:0;
    position:relative;
    background:#000;
  }
  .player-area iframe{
    position:absolute;
    top:50%;
    left:50%;
    transform: translate(-50%, -50%);
    width:98%;
    height:98%;
    border:none;
  }
  .sidebar{
    min-height:160px;
    display:flex;
    flex-direction:column;
    gap:8px;
  }
  .sidebar .card{
    background:var(--glass);
    padding:10px;
    border-radius:10px;
    font-size:14px;
    transition:transform .2s ease,box-shadow .2s ease;
  }
  .sidebar .card:hover{
    transform:translateY(-2px);
    box-shadow:var(--shadow);
  }
  .small{font-size:12px;color:var(--text-muted);}
  .hint{font-size:13px;color:var(--text-muted);padding-top:6px;}
  .parser-list{display:flex;gap:8px;flex-wrap:wrap;}
  .parser-list button{
    background:transparent;
    color:var(--text-muted);
    border:1px dashed rgba(255,255,255,.08);
    padding:8px 10px;
    border-radius:8px;
  }
  .parser-list button.selected{
    border-style:solid;
    color:#fff;
    background:rgba(255,255,255,.06);
  }
  .error{color:var(--error);font-weight:600;}
  footer{
    text-align:center;
    font-size:12px;
    color:var(--text-muted);
    border-top:1px solid var(--glass);
    padding-top:16px;
    margin-top:24px;
  }

  /* 主题切换按钮 */
  .theme-btn{
    width:36px;
    height:36px;
    border-radius:50%;
    border:none;
    cursor:pointer;
    background:var(--glass);
    display:flex;
    align-items:center;
    justify-content:center;
    transition:transform .4s cubic-bezier(.45,1.6,.65,1);
  }
  .theme-btn::before {
  content:"☀️";
  font-size:16px;
  transition:all .4s ease;
}
[data-theme="light"] .theme-btn::before {
  content:"🌙";
  color:#334155;
}
  [data-theme="light"] .theme-btn::before {
  content:"☀️";
  font-size:16px;
  transition:all .4s ease;
}
[data-theme="light"] .theme-btn::before {
  content:"🌙";
  color:#334155;
}
  .theme-btn:active{
    transform:rotate(360deg) scale(.9);
  }

  /* 公告栏 */
  .announcement{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    padding:1px;
    text-align:center;
    font-size:16px;
    font-weight:300;
    color:#fff;
    background:rgba(99,102,241,0.6);  /* 半透明背景，配合玻璃效果 */
    backdrop-filter: blur(10px);       /* 毛玻璃效果 */
    -webkit-backdrop-filter: blur(10px); /* Safari 兼容 */
    z-index:9999;
    box-shadow:0 2px 8px rgba(0,0,0,.25);
    overflow:hidden;
    border-bottom:1px solid rgba(255,255,255,.2); /* 边界更清晰 */
}
  .announcement::after{
    content:"";
    position:absolute;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,.25),transparent);
    animation:swipe 3s infinite;
  }
  @keyframes swipe{
    to{left:100%;}
  }
  body{padding-top:60px;}

  /* 平台胶囊 */
  .platform-capsule{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:6px 12px;
    background:var(--glass);
    border-radius:20px;
    font-size:13px;
    color:var(--text-muted);
    text-decoration:none;
    transition:background .2s,color .2s;
  }
  .platform-capsule:hover{
    background:var(--accent);
    color:#fff;
  }
  /* 弹窗背景 */
.modal {
  display: none; /* 默认隐藏 */
  position: fixed;
  z-index: 10000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(3px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* 弹窗主体 */
.modal-content {
  background: #fff;
  color: #1e293b;
  border-radius: 16px;
  width: min(90%, 420px);
  padding: 20px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.25);
  animation: popup 0.3s ease;
}

/* 弹窗头部 */
.modal-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

/* 蓝色 i 图标 */
.modal-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: #3b82f6;
  color: white;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: Arial, sans-serif;
}

/* 正文 */
.modal-body p {
  margin: 6px 0;
  font-size: 14px;
  line-height: 1.5;
}

/* 确定按钮 */
.modal-footer {
  text-align: right;
  margin-top: 12px;
}
.modal-footer button {
  background: #3b82f6;
  color: #fff;
  border: none;
  padding: 8px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}
.modal-footer button:hover {
  background: #2563eb;
}

/* 弹出动画 */
/* 弹窗背景 */
.modal {
  display: flex; /* 一直存在，只是通过透明度和缩放控制显隐 */
  position: fixed;
  z-index: 10000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(3px);
  align-items: center;
  justify-content: center;

  opacity: 0;
  pointer-events: none;   /* 隐藏时不可点击 */
  transition: opacity 0.3s ease;
}

/* 弹窗内容 */
.modal-content {
  background: #fff;
  color: #1e293b;
  border-radius: 16px;
  width: min(90%, 420px);
  padding: 20px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.25);
  transform: scale(0.9);
  transition: transform 0.3s ease, opacity 0.3s ease;
  opacity: 0;
}

/* 打开状态 */
.modal.show {
  opacity: 1;
  pointer-events: auto;
}
.modal.show .modal-content {
  transform: scale(1);
  opacity: 1;
}
/* 移动端优化 */
@media (max-width:600px){
  body{padding:16px;padding-top:80px;}
  .wrap{padding:16px;}
  .input-row{flex-direction:column;}
  .input-row input,
  .input-row select,
  .input-row button{width:100%;}

  .player-card{
    grid-template-columns:1fr;
    padding:0;
    gap:8px;
  }
  .sidebar{
    flex-direction:column;
    gap:8px;
    overflow-x:visible;
  }
  .sidebar .card{
    min-width:auto;
    flex-shrink:1;
  }
  /* 方形图标 */
  .logo{
    width:46px;
    height:46px;
    flex-shrink:0;
  }
  /* 播放器高度适配横屏视频 */
  .player-area video,
  .player-area{
    height:calc(56.25vw - 32px); /* 16:9 比例，减去左右 padding */
    max-height:254px; /* 最大高度约 16:9 的 450px 宽度 */
  }

  /* 可折叠公告栏 */
  .announcement{
    padding:4px 32px 4px 8px;
    font-size:11px;
    text-align:left;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    color:#fff;
    background:rgba(99,102,241,0.6);
    backdrop-filter:blur(10px);
    -webkit-backdrop-filter:blur(10px);
    z-index:9999;
    box-shadow:0 2px 8px rgba(0,0,0,.25);
    overflow:hidden;
    border-bottom:1px solid rgba(255,255,255,.2);
    transition:transform .3s ease;
  }
  .announcement.collapsed{
    transform:translateY(-100%);
  }
  .announcement::after{
    content:"";
    position:absolute;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:linear-gradient(90deg,transparent,rgba(255,255,255,.25),transparent);
    animation:swipe 3s infinite;
  }
  @keyframes swipe{
    to{left:100%;}
  }
  /* 折叠按钮 */
  .announcement-toggle{
    position:absolute;
    right:8px;
    top:50%;
    transform:translateY(-50%);
    background:none;
    border:none;
    color:#fff;
    font-size:16px;
    cursor:pointer;
    padding:0;
    width:24px;
    height:24px;
    display:flex;
    align-items:center;
    justify-content:center;
    border-radius:50%;
    transition:background .2s;
  }
  .announcement-toggle:hover{
    background:rgba(255,255,255,.2);
  }
}
</style>
</head>
<body>
  <!-- 公告栏 -->
  <div class="announcement" id="announcement">
    <span>📣公告：欢迎来到 <strong>The RCST Video Analysis</strong>！虽然目前搜索功能依旧有些卡顿，但我们会持续优化播放速度，敬请期待！枢纽站：<strong><a href="https://rcst20.dpdns.org" style="color: green; text-decoration: none;">点击跳转</a></strong>

</span>
  </div>

  <div class="wrap" role="application">
    <div class="header">
      <div class="brand">
        <div class="logo">若臣</div>
        <div>
          <div>The RCST Video • 若臣影视VIP解析站</div>
          <div class="small">一个免费的VIP视频解析播放网站，输入 m3u8 / 网页 / 片名，系统会自动识别选择解析器或直接播放</div>
          <div class="small">为爱发电 • 留住精彩 • 分享感动</div>
        </div>
      </div>

      <button id="theme-toggle" class="theme-btn" aria-label="切换深浅色"></button>
      <div class="controls" aria-hidden="false">
        <div class="mode-switch" role="tablist" aria-label="播放模式">
          <button id="mode-play" class="active">智能选择播放模式</button>
          <button id="mode-iframe">VIP解析模式</button>
        </div>
      </div>
    </div>

    <div class="input-row">
      <input id="input-url" type="text" placeholder="粘贴 m3u8，或输入网页 / 片名（例如：权力的游戏 S01E01）" />
      <select id="parser-select" aria-label="选择解析器"></select>
      <button id="play-btn">▶ 播放</button>
    </div>

    <!-- 平台快捷跳转 -->
    <div style="margin:10px 0; display:flex; gap:20px; justify-content:flex-end; align-items:center; flex-wrap:wrap;">
      <a class="platform-capsule" href="https://m1907.rcst20.dpdns.org/" target="_blank">
        <img src="https://m1907.rcst20.dpdns.org/favicon.ico?v=2" alt="本站自建影视库" width="18" height="18">
        【免费】本站自建影视库
      </a>
      <a class="platform-capsule" href="https://www.iqiyi.com/" target="_blank">
        <img src="https://static.iqiyi.com/favicon.ico" alt="爱奇艺" width="18" height="18">
        爱奇艺
      </a>
      <a class="platform-capsule" href="https://v.qq.com/" target="_blank">
        <img src="https://v.qq.com/favicon.ico" alt="腾讯视频" width="18" height="18">
        腾讯视频
      </a>
      <a class="platform-capsule" href="https://www.bilibili.com/" target="_blank">
        <img src="https://www.bilibili.com/favicon.ico" alt="哔哩哔哩" width="18" height="18">
        哔哩哔哩
      </a>
      <a class="platform-capsule" href="https://www.youku.com/" target="_blank">
        <img src="https://www.youku.com/favicon.ico" alt="优酷" width="18" height="18">
        优酷
      </a>
    </div>

    <div class="player-card" role="region" aria-label="播放器区域">
      <div>
        <div class="player-area" id="player-area">
          <video id="html5-video" playsinline controls crossorigin></video>
          <iframe id="parser-iframe" style="display:none;"
  sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-presentation"
  allowfullscreen
  webkitallowfullscreen
  mozallowfullscreen></iframe>
        </div>
        <div class="meta" id="meta">状态指示：准备就绪 · 试试粘贴一个 .m3u8 链接，或输入片名并选择解析器。</div>
      </div>

      <aside class="sidebar" aria-hidden="false">
        <div class="card">
          <div style="font-weight:700">📡解析器（⚡️快速选择切换⚡️）</div>
          <div class="parser-list" id="quick-parsers"></div>
          <div class="hint">若 iframe 被目标站点拒绝（X-Frame-Options），请切换到 <strong>VIP解析模式</strong> 或使用后端代理转发。</div>
        </div>

        <div class="card">
          <div style="font-weight:700">⚠️警告</div>
          <div class="small">• 接口及片源均由外部服务提供，本站仅提供聚合解析服务，片中一切广告均与本站无关，切勿轻信！</div>
          <div class="small">• 本站使用m3u8流媒体服务进行播放，此过程及其消耗流量。因此，请您合理控制观看时长，注意流量消耗情况！</div>
        </div>

        <div class="card">
          <div style="font-weight:700">❕说明</div>
          <div class="small">• 直接播放需要目标是 m3u8（或 HLS 支持）。若浏览器不原生支持，会使用 hls.js 来播放。</div>
          <div class="small">• 解析器会在 iframe 中打开解析页面，该页面通常包含内嵌播放或转码。</div>
        </div>

        <div class="card">
          <div style="font-weight:700">🛠️调试 / 提示</div>
          <div class="small">• 若播放失败，请先查看浏览器开发者控制台（网络 / CORS / X-Frame）。</div>
          <div class="small">• 需要后端处理时（避免 CORS 或封禁），建议在服务器上做代理或调用解析接口返回真实 m3u8。</div>
          <div class="small">• 如果您已排查了以上内容，但还是无法播放，请联系管理员。邮箱：ruochenyang161@gmail.com</div>
        </div>
      </aside>
    </div>

<!-- ===== 纯白背景页脚 开始 ===== -->
<style>
  /* 一键白 */
  .footer-box {
    background: #fff;          /* 背景强行白 */
    color: #333;               /* 文字深灰 */
    text-align: center;
    padding: 2rem 0 1rem;
  }
  .footer-socials {
    display: flex;
    justify-content: center;
    gap: 1.2rem;
    margin-bottom: 1rem;
  }
  .footer-socials a {
    color: #333;               /* 图标颜色锁死 */
    transition: transform .2s;
  }
  .footer-socials a:hover {
    transform: scale(1.15);
  }
  .footer-socials a img {
    width: 26px;
    height: 26px;
  }
  #myssl_seal img {
    width: 130px;
    height: auto;
    cursor: pointer;
  }
  footer {
    font-size: .875rem;
    color: #333;
  }
</style>

<div style="text-align: center;">
  <a href="https://rcst20.dpdns.org" style="font-weight: bold; color: green; text-decoration: none;">
    点击跳转到The RCST 主站（分站总枢纽）
  </a>
</div>


<div class="footer-box">
  <!-- 社交图标 -->
  <div class="footer-socials">
    <!-- GitHub -->
    <a href="https://github.com/backrooms-yrc" target="_blank" rel="noopener" title="GitHub">
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23333' d='M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z'/%3E%3C/svg%3E" alt="GitHub">
    </a>

    <!-- Twitter -->
    <a href="https://x.com/yrc2025" target="_blank" rel="noopener" title="Twitter">
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23333' d='M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z'/%3E%3C/svg%3E" alt="Twitter">
    </a>

    <!-- 邮箱 -->
    <a href="mailto:ruochenyang161@gmail.com" title="邮箱">
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23333' d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3C/svg%3E" alt="邮箱">
    </a>

    <!-- Telegram -->
    <a href="https://t.me/rcst20" target="_blank" rel="noopener" title="Telegram">
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23333' d='M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z'/%3E%3C/svg%3E" alt="Telegram">
    </a>
  </div>

  <!-- MySSL 安全签章 -->
<div title="MySSL 安全签章" id="myssl_seal" onclick="window.open('https://myssl.com/seal/detail?domain=vipvideo.rcst20.dpdns.org','MySSL安全签章','height=800,width=470,top=0,right=0,toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no,status=no')" style="text-align: center"><img src="https://sealres.myssl.com/seal/img/2x/seal.svg?domain=vipvideo.rcst20.dpdns.org" alt="MySSL 安全签章" style="width: 130px; height: auto; cursor: pointer">
  </div>

  <!-- 版权信息 -->
  <footer>
    （c）2025 The RCST Video Analysis 版权所有，侵权必究！
  </footer>
</div>
<!-- ===== 纯白背景页脚 结束 ===== -->



<!-- 弹窗公告 -->
<div id="announcement-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-icon">i</div>
      <h2>网站公告</h2>
    </div>
    <div class="modal-body">
      <p><strong>公告标题：</strong>欢迎来到 The RCST Video 🎬</p>
      <p><strong>公告内容：</strong>本站支持 VIP 视频解析播放，推荐使用 m3u8 链接体验最佳效果。</p>
      <p><strong>警    告：</strong>网站的接口写在js里面，别总是想着盗用！</p>
      <p><strong>使用教程：</strong></p>
      <p>1.使用接口一：去各大影视网站（如：爱奇艺 等）找到您想要观看的内容，复制链接并粘贴到本站；</p>
      <p>2.使用接口二：直接输入影片名称，但是有可能会查不到，如果查不到就换接口一。</p>
      <p><strong>发布者：</strong>官方</p>
      <p><strong>发布时间：</strong>2025-09-15</p>
      <p style="color: red; text-align: center; font-weight: bold;">我们的目标是做最美观、好用的VIP影视解析站！让天下资源为人民服务！</p>
    </div>
    <div class="modal-footer">
      <button id="modal-ok">确定</button>
    </div>
  </div>
</div>

<!-- Plyr JS -->
<script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
<!-- hls.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.6.11/dist/hls.min.js"></script>

<!-- ===== 1. 你原来的业务逻辑（未改动） ===== -->
<script src="/assets/js/player.js?v=2025091707"></script>

<!-- ===== 2. 主题切换补丁 ===== -->
<script>
(() => {
  const STORAGE_KEY = 'rcst-theme';   // 本地存储键
  const ATTR        = 'data-theme';   // <html> 上的自定义属性，方便 CSS 选择器
  const btn         = document.getElementById('theme-toggle');

  /* 获取用户首选 */
  const getPreferred = () => localStorage.getItem(STORAGE_KEY)
    ?? (matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');

  /* 应用主题 */
  const apply = mode => {
    document.documentElement.setAttribute(ATTR, mode);
    localStorage.setItem(STORAGE_KEY, mode);
  };

  /* 初始加载 */
  apply(getPreferred());

  /* 按钮点击：来回切换 */
  btn.addEventListener('click', () => {
    const current = document.documentElement.getAttribute(ATTR);
    apply(current === 'dark' ? 'light' : 'dark');
  });

  /* 可选：实时跟随系统变化 */
  matchMedia('(prefers-color-scheme: light)').addEventListener('change', e => {
    // 只有用户没手动设置过才自动跟随
    if (!localStorage.getItem(STORAGE_KEY)) apply(e.matches ? 'light' : 'dark');
  });
})();
</script>

<!-- ===== 3. 公告栏折叠 ===== -->
<script>
(() => {
  const ann = document.getElementById('announcement');
  const toggle = document.getElementById('announcement-toggle');
  if (!ann || !toggle) return;

  // 读取本地存储状态
  const collapsed = localStorage.getItem('ann-collapsed') === '1';
  if (collapsed) ann.classList.add('collapsed');

  toggle.addEventListener('click', () => {
    const now = ann.classList.toggle('collapsed');
    localStorage.setItem('ann-collapsed', now ? '1' : '');
    toggle.textContent = now ? '+' : '−';
  });
})();
</script>
</body>
</html>
